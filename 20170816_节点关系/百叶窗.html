<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<style type="text/css">
		*{
			margin: 0;
			padding: 0;
		}
		.carousel{
			width: 800px;
			height: 300px;
			margin: 100px auto;
			border: 1px solid #333;
			position: relative;
             overflow: hidden; 
		}
		.carousel ul{
			list-style: none;
		}
		.carousel ul li{
            float:left;
			position: absolute;
			top: 0;
			left: 0;
		}
	
		.circles{
			position: absolute;
			width: 150px;
			height: 16px;
			bottom: 10px;
			right: 10px;
		}
		
        .imageslist{
            width:1000%;
            position: absolute;
        }
        .mark{
        	width: 560px;
        	height: 300px;
        	position: absolute; 
        	left: 0;
        	top: 0;
        	background-color: #000;
        	opacity: 0.5; 
        	filter:alpha(opacity = 50);
        }
	</style>
</head>
<body>
	<div class="carousel" id="carousel">
		

		<div class="imageslist" id="imageslist">
			<ul>
				<li>
					<a>
						<img src="../20170728_节流+呼吸轮播/images/0.jpg" alt="" />
						<div class="mark"></div>
					</a>
				</li>
                <li><a><img src="../20170728_节流+呼吸轮播/images/1.jpg" alt="" /><div class="mark"></div></a></li>
				<li><a><img src="../20170728_节流+呼吸轮播/images/2.jpg" alt="" /><div class="mark"></div></a></li>
				<li><a><img src="../20170728_节流+呼吸轮播/images/3.jpg" alt="" /><div class="mark"></div></a></li>
				<li><a><img src="../20170728_节流+呼吸轮播/images/4.jpg" alt="" /><div class="mark"></div></a></li>
			</ul>
		</div>
		
	</div>

	<script type="text/javascript" src="../JS框架/jquery-1.12.3.min.js"></script>
	<script type="text/javascript">
    
	$(".imageslist ul li:first").css("display","static")

		var $lis = $(".imageslist ul li");
		
		$lis.each(function(i){
			$(this).css("left",110*i);
		});

		$lis.mouseenter(function(){

			$lis.stop(true);
			// 得到触发事件的元素的下标
			var index = $(this).index();
			// 让每个li有不同的运功终点
			$lis.each(function(i){
				if(i<=index){
					$(this).animate({"left":60*i},1000)
				}else{
					$(this).animate({"left":500+60*i},1000)
				}

			});
			// 变亮业务
			$(this).find(".mark").stop(true).fadeOut();
			
		})

		// 鼠标移出复原
		// $lis.mouseleave(function(){
		// 	$lis.each(function(i){
		// 		$(this).animate({"left":110*i},1000);
		// 	});
			
		// 	$(this).find(".mark").fadeIn();
			

		// })
console.log($("imageslist"))
		$("imageslist").mouseleave(function(){
			$lis.each(function(i){
				$(this).animate({"left":110*i},1000);
			});
		})

		

	</script>
</body>
</html>